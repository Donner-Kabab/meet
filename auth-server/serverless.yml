# "service" is the name of this project. This will also be added to your AWS resource names.
service: auth-server

provider:
  name: aws
  runtime: nodejs20.x
  region: eu-central-1
  timeout: 30 #in seconds, default is 6
  environment:
    CLIENT_ID: ${file(config.json):CLIENT_ID}
    CLIENT_SECRET: ${file(config.json):CLIENT_SECRET}
    CALENDAR_ID: ${file(config.json):CALENDAR_ID}

functions:
  getAuthURL:
    handler: handler.getAuthURL
    events:
      - http:
          path: api/get-auth-url
          method: get
  getAccessToken:
    handler: handler.getAccessToken
    events:
      - http:
          path: api/token/{"ya29.a0AXooCgsQuAr5-yKu1C_OmJfcd4dVoDFqz5CIf163uJt3UYhnEh9Mi6-L8OpTZU0QVQiE6gnh_qfynO4jpBqKbvNSrHBZU9rDb3RGk3xFI5SS2Z0Wsb3Cnr2fQVVKOKAkwsayYNXsM4qBm6c9AR-9GkhVTKGYaZRkKaBXaCgYKAY4SARESFQHGX2MiWG01hTxWyXMFwfvPkz2UuA0171","refresh_token":"1//09W12mp34PinzCgYIARAAGAkSNwF-L9Ir9EKeoxtxlhFvAM7c0v76WA73y3k-Napj4cZBMaIUOa-byRP5mlNdRRV9pzxomZzCO98"}
          method: get
  getCalendarEvents:
    handler: handler.getCalendarEvents
    events:
      - http:
          path: api/get-events{"ya29.a0AXooCgsQuAr5-yKu1C_OmJfcd4dVoDFqz5CIf163uJt3UYhnEh9Mi6-L8OpTZU0QVQiE6gnh_qfynO4jpBqKbvNSrHBZU9rDb3RGk3xFI5SS2Z0Wsb3Cnr2fQVVKOKAkwsayYNXsM4qBm6c9AR-9GkhVTKGYaZRkKaBXaCgYKAY4SARESFQHGX2MiWG01hTxWyXMFwfvPkz2UuA0171","refresh_token":"1//09W12mp34PinzCgYIARAAGAkSNwF-L9Ir9EKeoxtxlhFvAM7c0v76WA73y3k-Napj4cZBMaIUOa-byRP5mlNdRRV9pzxomZzCO98"}
          method: get
